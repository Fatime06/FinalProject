@using Domain.Entities
@using Service.ViewModels.Product
@model PaginatedList<ProductVM>

@if (Model == null)
{
    <p class="fs-4" style="color:red">
        There is no product
    </p>
    return;
}
<div class="products-area">
    <div class="products-header">
        <div class="sorting-left">
            <i class="fa-solid fa-table-cells-large"></i>
            <i class="fa-solid fa-list"></i>
            <span>Default sorting <i class="fa-solid fa-chevron-down"></i></span>
        </div>

        <div class="results-right">
            Showing @Model.FirstItemOnPage - @Model.LastItemOnPage of @Model.TotalCount results
        </div>
    </div>

    <div class="products-area-wrapper">
        @await Html.PartialAsync("_ProductGridPartial", Model)
    </div>

    <div class="pagination">

        @if (Model.HasPreviousPage)
        {
            <a asp-controller="Shop"
               asp-action="Index"
               asp-route-page="@(Model.PageIndex - 1)"
               asp-route-categoryId="@ViewBag.ActiveCategory"
               class="page prev">
                <i class="fa-solid fa-chevron-left"></i>
            </a>
        }

        @for (int i = 1; i <= Model.TotalPages; i++)
        {
            <a asp-controller="Shop"
               asp-action="Index"
               asp-route-page="@i"
               asp-route-categoryId="@ViewBag.ActiveCategory"
               class="page @(Model.PageIndex == i ? "active" : "")">
                @i
            </a>
        }

        @if (Model.HasNextPage)
        {
            <a asp-controller="Shop"
               asp-action="Index"
               asp-route-page="@(Model.PageIndex + 1)"
               asp-route-categoryId="@ViewBag.ActiveCategory"
               class="page next">
                <i class="fa-solid fa-chevron-right"></i>
            </a>
        }

    </div>


</div>
